var util        = require("util");
var Success     = require("functional-validation/success");
var Failure     = require("functional-validation/failure");
var Validator   = require("../validator");

function MaxLengthValidator(max, message) {
    this._max = max;
    Validator.call(this, message);
}

util.inherits(MaxLengthValidator, Validator);

MaxLengthValidator.prototype._max = undefined;

MaxLengthValidator.prototype.validate = function(value) {
    if (value.length <= this._max) {
        return new Success(value);
    } else {
        return new Failure(this._message);
    }
};

module.exports = MaxLengthValidator;
