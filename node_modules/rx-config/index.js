var Rx    = require("rx");
var RxMap = require("rx-map");

module.exports = function() {
    var args        = Array.prototype.slice.call(arguments);
    var observables = args.map(function(n) { return n(); });
    return Rx
        .Observable
        .concat(observables)
        .reduce(function(config, latest) {
            return Object.keys(latest).reduce(function(config, key) {
                config.set(key, latest[key]);
                return config;
            }, config);
        }, new RxMap());
}
