var fs = require("fs");
var Rx = require("rx");

var readFile = Rx.Observable.fromNodeCallback(fs.readFile);

module.exports = function(path) {
    return function() {
        return readFile(path).map(function(contents) {
            return JSON.parse(contents);
        });
    }
}
